{"ast":null,"code":"import { userService } from '../_services/';\nimport { history } from '../_helpers';\nexport const userActions = {\n  login,\n  logout\n};\n\nfunction login(username, password) {\n  return dispatch => {\n    let apiEndpoint = 'Login';\n    let payload = {\n      username: username,\n      password: password\n    };\n    userService.post(apiEndpoint, payload).then(response => {\n      console.log(response.data);\n\n      if (response.data.token) {\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('auth', response.data.auth);\n        dispatch(setUserDetails(response.data));\n        history.push('/home');\n      }\n    });\n  };\n}\n\nfunction logout() {\n  return dispatch => {\n    localStorage.removeItem('auth');\n    localStorage.removeItem('token');\n    dispatch(logoutUser());\n    history.push('/');\n  };\n}\n\nexport function setUserDetails(user) {\n  return {\n    type: \"LOGIN_SUCCESS\",\n    auth: user.auth,\n    token: user.token\n  };\n}\nexport function logoutUser() {\n  return {\n    type: \"LOGOUT_SUCCESS\",\n    auth: false,\n    token: ''\n  };\n}","map":{"version":3,"sources":["/Users/rogelioperez/Documents/Proyectos front web/Cronos/proyecto/cronos/src/_actions/user.actions.js"],"names":["userService","history","userActions","login","logout","username","password","dispatch","apiEndpoint","payload","post","then","response","console","log","data","token","localStorage","setItem","auth","setUserDetails","push","removeItem","logoutUser","user","type"],"mappings":"AAAA,SAASA,WAAT,QAA4B,eAA5B;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,OAAO,MAAMC,WAAW,GAAG;AACvBC,EAAAA,KADuB;AAEvBC,EAAAA;AAFuB,CAApB;;AAKP,SAASD,KAAT,CAAeE,QAAf,EAAyBC,QAAzB,EAAkC;AAC9B,SAAOC,QAAQ,IAAI;AACf,QAAIC,WAAW,GAAG,OAAlB;AACA,QAAIC,OAAO,GAAG;AACVJ,MAAAA,QAAQ,EAAEA,QADA;AAEVC,MAAAA,QAAQ,EAAEA;AAFA,KAAd;AAIAN,IAAAA,WAAW,CAACU,IAAZ,CAAiBF,WAAjB,EAA8BC,OAA9B,EACCE,IADD,CACOC,QAAD,IAAY;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;;AACA,UAAIH,QAAQ,CAACG,IAAT,CAAcC,KAAlB,EAAyB;AACrBC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BN,QAAQ,CAACG,IAAT,CAAcC,KAA5C;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BN,QAAQ,CAACG,IAAT,CAAcI,IAA3C;AACAZ,QAAAA,QAAQ,CAACa,cAAc,CAACR,QAAQ,CAACG,IAAV,CAAf,CAAR;AACAd,QAAAA,OAAO,CAACoB,IAAR,CAAa,OAAb;AACH;AACJ,KATD;AAUH,GAhBD;AAiBH;;AAED,SAASjB,MAAT,GAAiB;AACb,SAAOG,QAAQ,IAAI;AACfU,IAAAA,YAAY,CAACK,UAAb,CAAwB,MAAxB;AACAL,IAAAA,YAAY,CAACK,UAAb,CAAwB,OAAxB;AACAf,IAAAA,QAAQ,CAACgB,UAAU,EAAX,CAAR;AACAtB,IAAAA,OAAO,CAACoB,IAAR,CAAa,GAAb;AACH,GALD;AAMH;;AAED,OAAO,SAASD,cAAT,CAAwBI,IAAxB,EAA6B;AAChC,SAAM;AACFC,IAAAA,IAAI,EAAE,eADJ;AAEFN,IAAAA,IAAI,EAAEK,IAAI,CAACL,IAFT;AAGFH,IAAAA,KAAK,EAAEQ,IAAI,CAACR;AAHV,GAAN;AAKH;AAED,OAAO,SAASO,UAAT,GAAqB;AACxB,SAAM;AACFE,IAAAA,IAAI,EAAE,gBADJ;AAEFN,IAAAA,IAAI,EAAE,KAFJ;AAGFH,IAAAA,KAAK,EAAE;AAHL,GAAN;AAKH","sourcesContent":["import { userService } from '../_services/';\nimport { history } from '../_helpers';\n\nexport const userActions = {\n    login,\n    logout\n};\n\nfunction login(username, password){\n    return dispatch => {\n        let apiEndpoint = 'Login';\n        let payload = {\n            username: username,\n            password: password\n        }\n        userService.post(apiEndpoint, payload)\n        .then((response)=>{\n            console.log(response.data);\n            if (response.data.token) {\n                localStorage.setItem('token', response.data.token);\n                localStorage.setItem('auth', response.data.auth);\n                dispatch(setUserDetails(response.data));\n                history.push('/home');\n            }\n        })\n    };\n}\n\nfunction logout(){\n    return dispatch => {\n        localStorage.removeItem('auth');\n        localStorage.removeItem('token');\n        dispatch(logoutUser());\n        history.push('/');\n    }\n}\n\nexport function setUserDetails(user){\n    return{\n        type: \"LOGIN_SUCCESS\",\n        auth: user.auth,\n        token: user.token\n    }\n}\n\nexport function logoutUser(){\n    return{\n        type: \"LOGOUT_SUCCESS\",\n        auth: false,\n        token: ''\n    }\n}"]},"metadata":{},"sourceType":"module"}